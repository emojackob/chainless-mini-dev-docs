---
title: Example
description: ""
icon: "code"
---

We provide four core usage examples for third-party developers:

#### Get MT token balance

```javascript
// demonstrates how to use API-KEY with 'connect' function. 
const { connect, keyStores } = require("chainless-api-ts");
const path = require("path");

const homedir = require("os").homedir();
const CREDENTIALS_DIR = ".near-credentials";
const credentialsPath = path.join(homedir, CREDENTIALS_DIR);
const keyStore = new keyStores.UnencryptedFileSystemKeyStore(credentialsPath);

const RPC_API_ENDPOINT = 'https://rpc-testnet.chainlessdw20.com';
const API_KEY = '';

const ACCOUNT_ID = 'chainless';

const config = {
    networkId: 'testnet',
    keyStore,
    nodeUrl: RPC_API_ENDPOINT,
    headers: { 'x-api-key': API_KEY },
};

async function getMtBalances(accountId) {
    const near = await connect(config);
    const account = await near.account(accountId);
    const mtBalances = await account.getMtBalances();
    console.log(mtBalances);
}

getMtBalances(ACCOUNT_ID);
```

#### Estimate transfer fee

```javascript
// demonstrates how to use API-KEY with 'connect' function.
const { connect, keyStores } = require("chainless-api-ts");
const path = require("path");

const homedir = require("os").homedir();
const CREDENTIALS_DIR = ".near-credentials";
const credentialsPath = path.join(homedir, CREDENTIALS_DIR);
const keyStore = new keyStores.UnencryptedFileSystemKeyStore(credentialsPath);

const RPC_API_ENDPOINT = "https://rpc-testnet.chainlessdw20.com";
const API_KEY = "";

const ACCOUNT_ID = "chainless";

const config = {
    networkId: "testnet",
    keyStore,
    nodeUrl: RPC_API_ENDPOINT,
    headers: { "x-api-key": API_KEY },
};

async function getMtBalances(accountId) {
    const near = await connect(config);
    const account = await near.account(accountId);
    const fees = await account.transferFee(
        "hello.chainless",
        "USDT",
        100000000000000,
        ["ETH", "DW20", "XYZ"]
    );
    console.log(fees);
}

getMtBalances(ACCOUNT_ID);
```

#### Transfer MT via relayer

```javascript
const { Account } = require("@chainless-js/accounts");
const { UnencryptedFileSystemKeyStore } = require("@chainless-js/keystores-node");
const { JsonRpcProvider, fetchJson } = require("@chainless-js/providers");
const { InMemorySigner } = require("@chainless-js/signers");
const {
    actionCreators,
    encodeSignedDelegate,
} = require("@chainless-js/transactions");
const os = require("os");
const path = require("path");

const { transfer } = actionCreators;

async function sendNearThroughRelayer({ amount, receiverId, senderAccount }) {
    const signedDelegate = await senderAccount.signedDelegate({
        actions: [transfer("USDT", amount, "USDT")],
        blockHeightTtl: 60,
        receiverId,
    });

    return fetchJson(
        "https://relayer-testnet.chainless.top/send_meta_tx_borsh",
        Buffer.from(Array.from(encodeSignedDelegate(signedDelegate))).toString(
            "base64"
        )
    );
}

module.exports = {
    sendNearThroughRelayer,
};

if (require.main === module) {
    (async function () {
        const networkId = "testnet";
        const provider = new JsonRpcProvider({
            url: "https://rpc-testnet.chainlessdw20.com",
        });

        const CREDENTIALS_DIR = ".near-credentials";
        const credentialsPath = path.join(os.homedir(), CREDENTIALS_DIR);

        const RECEIVER_ACCOUNT_ID = "receiver.testnet"; // the ultimate recipient of the meta transaction execution
        const SENDER_ACCOUNT_ID = "chainless"; // the account requesting the transaction be executed

        const senderAccount = new Account(
            {
                networkId,
                provider,
                signer: new InMemorySigner(
                    new UnencryptedFileSystemKeyStore(credentialsPath)
                ),
            },
            SENDER_ACCOUNT_ID
        );

        const result = await sendNearThroughRelayer({
            amount: BigInt("1000000000"),
            receiverId: RECEIVER_ACCOUNT_ID,
            senderAccount,
        });
        console.log(JSON.stringify(result, undefined, 2));
    })();
}
```

#### Call contract functions via relayer

```javascript
const { Account } = require("@chainless-js/accounts");
const { UnencryptedFileSystemKeyStore } = require("@chainless-js/keystores-node");
const { JsonRpcProvider, fetchJson } = require("@chainless-js/providers");
const { InMemorySigner } = require("@chainless-js/signers");
const {
    actionCreators,
    encodeSignedDelegate,
} = require("@chainless-js/transactions");
const os = require("os");
const path = require("path");

const { functionCall } = actionCreators;

async function sendNearThroughRelayer({ amount, receiverId, senderAccount }) {
    const signedDelegate = await senderAccount.signedDelegate({
        actions: [
            functionCall(
                "set_thresholds_and_min_slave_sigs",
                { thresholds: [], min_slave_sigs: [] },
                300000000000000,
                "USDT",
                10000,
                "USDT"
            ),
        ],
        blockHeightTtl: 60,
        receiverId,
    });

    return fetchJson(
        "https://relayer-testnet.chainless.top/send_meta_tx_borsh",
        Buffer.from(Array.from(encodeSignedDelegate(signedDelegate))).toString(
            "base64"
        )
    );
}

module.exports = {
    sendNearThroughRelayer,
};

if (require.main === module) {
    (async function () {
        const networkId = "testnet";
        const provider = new JsonRpcProvider({
            url: "https://rpc-testnet.chainlessdw20.com",
        });

        const CREDENTIALS_DIR = ".near-credentials";
        const credentialsPath = path.join(os.homedir(), CREDENTIALS_DIR);

        const RECEIVER_ACCOUNT_ID = "multisig-send-mt.chainless"; // the ultimate recipient of the meta transaction execution
        const SENDER_ACCOUNT_ID = "chainless"; // the account requesting the transaction be executed

        const senderAccount = new Account(
            {
                networkId,
                provider,
                signer: new InMemorySigner(
                    new UnencryptedFileSystemKeyStore(credentialsPath)
                ),
            },
            SENDER_ACCOUNT_ID
        );

        const result = await sendNearThroughRelayer({
            amount: BigInt("1000000000"),
            receiverId: RECEIVER_ACCOUNT_ID,
            senderAccount,
        });
        console.log(JSON.stringify(result, undefined, 2));
    })();
}
```

